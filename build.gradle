buildscript {
	ext {
		springBootVersion = '2.1.2.RELEASE'
	}
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
	}
}

apply plugin: 'java'
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'

group = 'es.santalucia.api'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'

repositories {
	mavenCentral()
	maven { url 'https://repo.spring.io/milestone' }
}

ext {
	set('springBootAdminVersion', '2.1.1')
	set('springCloudVersion', 'Greenwich.RC2')
}

// configurations.all {
//   exclude group:'org.springframework.boot', module: 'spring-boot-starter-logging'
// }

// Spring Boot Dependencies
dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-actuator'
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'
	implementation 'org.springframework.boot:spring-boot-starter-data-mongodb-reactive'
	implementation 'org.springframework.boot:spring-boot-starter-hateoas'
	implementation 'org.springframework.boot:spring-boot-starter-jdbc'
	implementation 'org.springframework.boot:spring-boot-starter-jersey'
	implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-webflux'
	implementation 'de.codecentric:spring-boot-admin-starter-server'
	// implementation 'org.springframework.cloud:spring-cloud-starter-aws'
	// implementation 'org.springframework.cloud:spring-cloud-starter-aws-jdbc'
	// implementation 'org.springframework.cloud:spring-cloud-starter-aws-messaging'
	runtimeOnly 'mysql:mysql-connector-java'
	runtimeOnly 'org.postgresql:postgresql'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
	testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo'
	testImplementation 'io.projectreactor:reactor-test'
}

dependencyManagement {
	imports {
		mavenBom "de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}"
		mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
	}
}

// auto-reload on change
configurations {
	developmentOnly
	runtimeClasspath {
		extendsFrom developmentOnly
	}
}
dependencies {
	developmentOnly("org.springframework.boot:spring-boot-devtools")
}

// buildscript {
// 	ext {
// 		springBootVersion = '2.1.2.RELEASE'
// 	}
// 	repositories {
// 		mavenCentral()
// 	}
// 	dependencies {
// 		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
// 	}
// }

// apply plugin: 'java'
// apply plugin: 'org.springframework.boot'
// apply plugin: 'io.spring.dependency-management'

// group = 'es.santalucia'
// version = '0.0.1-SNAPSHOT'
// sourceCompatibility = '1.8'

// repositories {
// 	mavenCentral()
// 	maven { url 'https://repo.spring.io/milestone' }
// }

// ext {
// 	set('springCloudVersion', 'Greenwich.RC2')
// }

// dependencies {
// 	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
// 	implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'
// 	implementation 'org.springframework.boot:spring-boot-starter-data-mongodb-reactive'
// 	implementation 'org.springframework.boot:spring-boot-starter-hateoas'
// 	implementation 'org.springframework.boot:spring-boot-starter-jdbc'
// 	implementation 'org.springframework.boot:spring-boot-starter-jersey'
// 	implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
// 	implementation 'org.springframework.boot:spring-boot-starter-web'
// 	implementation 'org.springframework.boot:spring-boot-starter-webflux'
// 	// implementation 'org.springframework.cloud:spring-cloud-starter-aws'
// 	// implementation 'org.springframework.cloud:spring-cloud-starter-aws-jdbc'
// 	// implementation 'org.springframework.cloud:spring-cloud-starter-aws-messaging'
// 	runtimeOnly 'mysql:mysql-connector-java'
// 	runtimeOnly 'org.postgresql:postgresql'
// 	testImplementation 'org.springframework.boot:spring-boot-starter-test'
// 	testImplementation 'de.flapdoodle.embed:de.flapdoodle.embed.mongo'
// 	testImplementation 'io.projectreactor:reactor-test'
// }

// dependencyManagement {
// 	imports {
// 		mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
// 	}
// }
